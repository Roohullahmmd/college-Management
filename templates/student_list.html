{% extends 'links.html' %}

{% load static %}

{% block content %}

	<div class="container p-4 bg-info text-white text-center">
		<h2>Student List</h2>
	</div>
	
	{% include 'nav.html' %}

	<div class="container mt-4">
		<hr>
		<a href="{% url 'add_student' %}" class="btn btn-success">Add Student</a>
		<hr>
	</div>

	{% include 'message.html' %}

	<div class="container">
		<form action="">
			<div class="row">
				<div class="col-sm-4">
					<input type="text" name="student_name" placeholder="Search by student name" class="form-control d-block">	
				</div>
				<div class="col-sm-4">
					<input type="text" name="father_name" placeholder="Search by father name" class="form-control d-block">	
				</div>
				<div class="col-sm-4">
					<button class="btn btn-primary">Search</button>
				</div>
			</div>
		</form>
	</div>

	<div class="container">
		{% if student_name %}
			<hr>
			<h5>You search For <span class="" style="color: green; font-weight: bold;"> : ( {{ student_name }} ) </span> you have found <span class="" style="color: red; font-weight: bold;"> : ( {{count}} ) </span> records </h5>
		{% endif %}
	</div>

	<div class="container mt-3">
		<table class="table table-bordered table-striped table-hover">
			<tr>
				<thead>
					<th>Student Name</th>
					<th>Father Name</th>
					<th>Address</th>
					<th>Class</th>
					<th>Religion</th>
					<th>Action</th>
				</thead>
			</tr>
			<tbody>
				{% if all_students %}
					{% for i in all_students %}
					<tr>
						<td>{{ i.student_name }}</td>
						<td>{{ i.father_name }}</td>
						<td>{{ i.address }}</td>
						<td>{{ i.select_class }}</td>
						<td>{{ i.religion }}</td>
						<td>
							<a href="{% url 'student_update' i.id %}" class="btn btn-success btn-sm">Update</a>
							<a href="{% url 'student_delete' i.id %}" class="btn btn-danger btn-sm">Remove</a>
						</td>
					</tr>
					{% endfor %}
			</tbody>
		</table>
	</div>
	{% else %}
			<h5 class="alert alert-danger">Sorry No Records Founds</h5>
	{% endif %}
</body>

{% endblock %}